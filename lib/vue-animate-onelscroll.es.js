var ScrollAnimate=(e,l,t)=>{const o=e=>"string"==typeof e,r=(e,l,t="")=>e.className=`${l} ${t}`.trim();let n={lastIsInView:!1,isInView:({top:e,bottom:l})=>e<(()=>document.documentElement.clientHeight)()&&l>0,isInElView:({top:e,bottom:l,scrollEl:t})=>e<t.clientHeight&&l>0,getIsInView(e,l){let t=!1;return t=e==window?this.isInView(l.getBoundingClientRect()):this.isInElView({top:l.offsetTop-e.scrollTop,bottom:l.offsetTop+l.clientHeight-e.scrollTop,scrollEl:e})},run(e,{value:l,modifiers:t},{isUpwards:n,previousClassName:s="",scrollEl:i=window}){let c=this.getIsInView(i,e);if(t.edge&&this.lastIsInView==c)return c?void 0:r(e,s);if(this.lastIsInView=c,!c)return t.repeat&&o(l)?r(e,s):void 0;if(o(l))return r(e,s,l);if(t.repeat||(e=>e.down&&e.up)(l)||!((e="",l="")=>e.trim()!==l.trim())(e.className,s)){const t=n?l.up:l.down;return r(e,s,t)}return(({params:e,isUpwards:l,repeat:t})=>t&&(l&&e.down||!l&&e.up))({params:l,isUpwards:n,...t})?r(e,s):void 0}};return l&&t&&(n.lastIsInView=n.getIsInView(l,t)),n};function getScrollEl(e,l){let{name:t,value:o,oldValue:r,expression:n,arg:s,modifiers:i}=l,c=o.scrollEl,a=window;return"string"==typeof c?a=document.querySelector(c):c instanceof Element||c instanceof HTMLDocument?a=c:null===c&&(a=null),a}function removeEvent(e){if(!e._onelscroll)return;let l=e._onelscroll.scrollEl,t=e._onelscroll.scrollCb;l&&t&&l.removeEventListener("scroll",t),e._onelscroll=null}function checkScrollEl(e,l){if(!e)return!1;if(e!=window&&l.parentNode.scrollHeight!=e.scrollHeight&&l.parentNode!=e){if(l.parentNode.clientHeight!=l.parentNode.scrollHeight)return console.warn("warning 内部有滚动元素","el.parentNode",l.parentNode,"el.parentNode.clientHeight",l.parentNode.clientHeight,"el.parentNode.scrollHeight",l.parentNode.scrollHeight),!1;if(l.parentNode.clientHeight!=e.scrollHeight)return console.warn("warning 滚动高度不匹配","el.parentNode",l.parentNode,"scrollEl",e,"el.parentNode.clientHeight",l.parentNode.clientHeight,"scrollEl.scrollHeight",e.scrollHeight),!1}return!0}function getScrollCb(e,l,t){const o=ScrollAnimate(Date.now(),e,l);if(e==window){const r=l.className;let n=e.pageYOffset;o.scrollEl=e,o.scrollCb=function(){let s=e.pageYOffset||document.documentElement.scrollTop;const i=s<n;o.run(l,t,{isUpwards:i,previousClassName:r}),n=s<=0?0:s}}else{const r=l.className;let n=e.scrollTop;o.scrollEl=e,o.scrollCb=function(){let s=e.scrollTop;const i=s<n;o.run(l,t,{isUpwards:i,previousClassName:r,scrollEl:e}),n=s<=0?0:s}}return o}var index={ScrollAnimate:ScrollAnimate,install(e){e.directive("onelscroll",{inserted(e,l){let t=getScrollEl(e,l);if(!checkScrollEl(t,e))return;let o=getScrollCb(t,e,l);e._onelscroll=o,t.addEventListener("scroll",o.scrollCb,!1)},unbind(e,l,t,o){removeEvent(e)},update(e,l,t,o){removeEvent(e);let r=getScrollEl(e,l);getScrollCb(r,e,l);if(!checkScrollEl(r,e))return;let n=getScrollCb(r,e,l);e._onelscroll=n,r.addEventListener("scroll",n.scrollCb,!1)}})}};export default index;
